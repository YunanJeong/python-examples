# python-examples

python example, skill, and practice

## 참고: python에서 정확한 스코프 용어

- 패키지: 한 디렉토리안에 있는 py파일 모음. 일반적으로 `import xxx` 하는게 이것. PyPi에서 다운받을 수 있는 라이브러리 1개에 해당
- 모듈: py파일 1개
- 모듈레벨 변수: 파이썬에서 전역변수
- 클래스 변수:
  - 객체지향으로 기술시, Class 안쪽, Method 바깥쪽에 선언된 변수.
  - 블로그 등에서 `클래스 변수와 모듈레벨 변수를 둘 다 전역변수라고 칭하여 혼용하는 경우가 종종 있는데, 엄밀히 말하면 모듈레벨 변수만 전역변수라고 하는게 맞다. 헷갈리지 말자`
- 인스턴스 변수: self키워드와 함께 선언된 변수, 인스턴스 생성시 값이 할당되는 변수
- 지역 변수: 메소드 안에서 선언된 변수

### 파이썬 변수 스코프 유형 예

```py
module_var = "모듈 레벨 변수(전역 변수)"

class MyClass:
    class_var = "클래스 변수"

    def __init__(self, value):
        # 인스턴스 변수
        self.instance_var = value

    def method(self):
        local_var: "지역 변수"
        print("모듈 레벨 변수:", module_var)
        print("클래스 변수:", MyClass.class_var)
        print("인스턴스 변수:", self.instance_var)
        print("지역 변수:", local_var)

obj = MyClass("인스턴스 변수")  # 인스턴스 생성
obj.method()
```

### 출력

```sh
모듈 레벨 변수: 모듈 레벨 변수(전역 변수)
클래스 변수: 클래스 변수
인스턴스 변수: 인스턴스 변수
지역 변수: 지역 변수
```

## 가상환경 비교

- 결론: venv 쓰자

### venv

- python 3.3 이후 표준
- 표준인 만큼 파이썬 프로젝트를 공유할 때도 가장 널리 쓰이는 방식
- 실제 디렉토리가 생성되고 그 안에 가상환경 파일이 모두 저장된다.(가상환경 내 모듈, 가상환경 활성화 파일 등)
- 프로젝트 루트 디렉토리에 `venv` 경로로 쓰는 것이 가장 보편적 방법
- 단순하지만 직관적이라 관리하기 쉬움

### virtualenv

- python 2,3 버전 둘 다 가능
- venv와 달리 해당 
- cli에서 전체 가상환경을 제어(가상환경 목록 조회&생성&활성화)
- venv와 달리
 특정 프로젝트 디렉토리와 연결된 개념이 아니다.

### pyenv

- 파이썬 버전 관리
- pyenv가 활성화된 cli가 반응속도가 느려지는 문제가 있음

### pipx

- 가상환경을 구축하지 않고, 파이썬을 전역환경에서 사용시 유용한 도구
- 전역 환경에서 pip install을 사용하여 모듈을 설치하면 시스템 환경과 충돌할 우려가 있음
  - 파이썬 활용도가 증가하면서 이런 문제가 많아졌고, 3.11 버전부터는 전역에서 pip install시 에러or경고 메시지 출력

- 파이썬을 전역 환경에서 사용하는 것은 권장되지 않음

- `pipx`는 파이썬 모듈을 모듈마다 독립된 가상 환경에 설치하여 전역적으로 사용할 수 있게 해주는 도구
- pip install과 동일한 방식으로 pipx install을 사용하여 모듈을 설치할 수 있음
- pipx로 설치된 모듈은 각 모듈마다 개별 가상 환경에 설치되므로, 전역 시스템에 영향을 미치지 않음
가상 환경을 구축하지 않고도 전역 환경에서 간단히 사용할 수 있음
단점
pipx는 -r 옵션을 지원하지 않기 때문에 requirements.txt 파일을 통해 여러 모듈을 한 번에 설치할 수 없음. 이는 치명적인 단점으로 작용할 수 있음
요약
파이썬을 전역 환경에서 사용하는 것은 권장되지 않으며, 시스템 환경과의 충돌을 피하기 위해 가상 환경을 사용하는 것이 좋음
pipx는 모듈을 독립된 가상 환경에 설치하여 전역적으로 사용할 수 있게 해주는 도구로, 설치와 사용이 간편함
그러나 pipx는 requirements.txt 파일을 통한 일괄 설치를 지원하지 않는 단점이 있음